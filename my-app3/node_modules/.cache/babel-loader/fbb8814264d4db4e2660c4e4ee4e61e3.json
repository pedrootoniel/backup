{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\react\\\\my-app\\\\src\\\\components\\\\SideMenu\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useRef } from 'react';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport Input from '../Input';\nimport TextArea from '../TextArea';\nimport { Container, Icon, Span, Button, FormUnform } from './styles';\n\nfunction SideMenu({\n  setShowSide\n}) {\n  _s();\n\n  const formRef = useRef(null);\n  const handleSubmit = useCallback(async data => {\n    try {\n      const schema = Yup.object().shape({\n        title: Yup.string().required('O Título é obrigatório'),\n        lat: Yup.string().required('A latitude é obrigatória'),\n        lng: Yup.string().required('A longitude é obrigatória'),\n        image: Yup.mixed().required('A imagem do local é obrigatória'),\n        guidance: Yup.string().required('A orientação é obrigatória')\n      });\n      await schema.validate(data, {\n        abortEarly: false\n      });\n      formRef.current.setErrors({}); // criar formdata\n\n      const formData = new FormData();\n      formData.append('title', data.title);\n      formData.append('lat', data.lat);\n      formData.append('lng', data.lng);\n      formData.append('guidance', data.guidance);\n      formData.append('file', data.image);\n      const resp = await axios.post('points', formData);\n      console.log(resp.data);\n      setShowSide(false); // chamar api\n    } catch (err) {\n      if (err instanceof Yup.ValidationError) {\n        const validationErrors = {};\n        err.inner.forEach(error => {\n          validationErrors[error.path] = error.message;\n        });\n        formRef.current.setErrors(validationErrors);\n        return;\n      }\n\n      alert(err.toString());\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Icon, {\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-times\",\n        onClick: e => setShowSide(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormUnform, {\n      ref: formRef,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Span, {\n        children: \"Adicionar Local\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"Local\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        name: \"lat\",\n        placeholder: \"Latitude\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        name: \"lng\",\n        placeholder: \"Longitude\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"file\",\n        name: \"image\",\n        placeholder: \"Imagem\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n        type: \"text\",\n        name: \"guidance\",\n        placeholder: \"Orienta\\xE7\\xE3o para imuniza\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"Adicionar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SideMenu, \"zh8xAEfszqUyizB/Z7t44IjAWVQ=\");\n\n_c = SideMenu;\nexport default SideMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"SideMenu\");","map":{"version":3,"sources":["C:/react/my-app/src/components/SideMenu/index.jsx"],"names":["React","useCallback","useRef","Yup","axios","Input","TextArea","Container","Icon","Span","Button","FormUnform","SideMenu","setShowSide","formRef","handleSubmit","data","schema","object","shape","title","string","required","lat","lng","image","mixed","guidance","validate","abortEarly","current","setErrors","formData","FormData","append","resp","post","console","log","err","ValidationError","validationErrors","inner","forEach","error","path","message","alert","toString","e"],"mappings":"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","sourcesContent":["import React, { useCallback, useRef } from 'react'\nimport * as Yup from 'yup'\nimport axios from 'axios'\nimport Input from '../Input'\nimport TextArea from '../TextArea'\nimport { Container, Icon, Span, Button, FormUnform } from './styles'\n\nfunction SideMenu({ setShowSide }) {\n\n  const formRef = useRef(null)\n\n  const handleSubmit = useCallback(async (data) => {\n\n    try {\n\n      const schema = Yup.object().shape({\n        title: Yup.string().required('O Título é obrigatório'),\n        lat: Yup.string().required('A latitude é obrigatória'),\n        lng: Yup.string().required('A longitude é obrigatória'),\n        image: Yup.mixed().required('A imagem do local é obrigatória'),\n        guidance: Yup.string().required('A orientação é obrigatória'),\n      })\n\n      await schema.validate(data, {\n        abortEarly: false,\n      })\n\n      formRef.current.setErrors({})\n\n      // criar formdata\n\n      const formData = new FormData()\n\n      formData.append('title', data.title)\n      formData.append('lat', data.lat)\n      formData.append('lng', data.lng)\n      formData.append('guidance', data.guidance)\n      formData.append('file', data.image)\n\n      const resp = await axios.post('points', formData)\n\n      console.log(resp.data)\n      setShowSide(false)\n      // chamar api\n\n    } catch (err) {\n      if (err instanceof Yup.ValidationError) {\n        const validationErrors = {}\n        err.inner.forEach(error => {\n          validationErrors[error.path] = error.message\n        })\n        formRef.current.setErrors(validationErrors)\n        return\n      }\n\n      alert(err.toString())\n\n    }\n  }, [])\n\n  return (\n    <Container>\n      <Icon><i className=\"fas fa-times\" onClick={e => setShowSide(false)}></i></Icon>\n      <FormUnform ref={formRef} onSubmit={handleSubmit}>\n        <Span>Adicionar Local</Span>\n        <Input type='text' name='title' placeholder='Local' />\n        <Input type='text' name='lat' placeholder='Latitude' />\n        <Input type='text' name='lng' placeholder='Longitude' />\n        <Input type='file' name='image' placeholder='Imagem' />\n        <TextArea type='text' name='guidance' placeholder='Orientação para imunização' />\n        <Button type=\"submit\">Adicionar</Button>\n      </FormUnform>\n    </Container>\n  )\n}\n\nexport default SideMenu"]},"metadata":{},"sourceType":"module"}